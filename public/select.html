<!doctype html>
<html lang="vi">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ScamCheck ‚Ä¢ Trang ch√≠nh</title>
  <link rel="stylesheet" href="./css/responsive.css" />
  <link rel="stylesheet" href="./css/app.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" />
</head>
<body>
  <div class="page">
    <div class="container">
      <div class="topbar">
        <div class="brand">
          <div class="logo"></div>
          <div class="brand-title">
            <b>ScamCheck</b>
            <span>Trang ch√≠nh</span>
          </div>
        </div>

        <div class="nav-actions row" style="gap:10px; flex-wrap:wrap;">
          <a class="btn secondary" href="./account.html">
            <span class="material-symbols-outlined">person</span>T√†i kho·∫£n
          </a>
          <a class="btn secondary" href="./admin.html" id="adminBtn" style="display:none;">
            <span class="material-symbols-outlined">admin_panel_settings</span>Admin
          </a>
          <button class="btn secondary" type="button" id="logoutBtn">
            <span class="material-symbols-outlined">logout</span>ƒêƒÉng xu·∫•t
          </button>
        </div>
      </div>

      <div class="card">
        <div class="card-body">
          <h1 style="margin:0;">B·∫°n mu·ªën l√†m g√¨?</h1>
          <p style="margin-top:8px;">
            Ch·ªçn 1 m·ª•c b√™n d∆∞·ªõi. D√πng t·ªët tr√™n m√°y t√≠nh v√† ƒëi·ªán tho·∫°i.
          </p>

          <div class="grid cols-3" style="margin-top:14px;">
            <a class="card" href="./check-phone.html" style="text-decoration:none; background: rgba(255,255,255,.04); border-color: rgba(255,255,255,.12);">
              <div class="card-body">
                <div class="row" style="justify-content:space-between;">
                  <span class="badge">üìû</span>
                  <span class="material-symbols-outlined">chevron_right</span>
                </div>
                <h2 style="margin-top:10px;">Ki·ªÉm tra s·ªë ƒëi·ªán tho·∫°i</h2>
                <p>Nh·∫≠p s·ªë nghi ng·ªù ƒë·ªÉ xem c√≥ c·∫£nh b√°o kh√¥ng.</p>
                <div class="row" style="gap:10px; margin-top:10px; flex-wrap:wrap;">
                  <span class="badge">Nhanh</span>
                  <span class="badge">D·ªÖ d√πng</span>
                </div>
              </div>
            </a>

            <a class="card" href="./check-link.html" style="text-decoration:none; background: rgba(255,255,255,.04); border-color: rgba(255,255,255,.12);">
              <div class="card-body">
                <div class="row" style="justify-content:space-between;">
                  <span class="badge">üîó</span>
                  <span class="material-symbols-outlined">chevron_right</span>
                </div>
                <h2 style="margin-top:10px;">Ki·ªÉm tra ƒë∆∞·ªùng link</h2>
                <p>D√°n link v√†o ƒë·ªÉ ki·ªÉm tra c√≥ b·ªã b√°o x·∫•u kh√¥ng.</p>
                <div class="row" style="gap:10px; margin-top:10px; flex-wrap:wrap;">
                  <span class="badge">R√µ r√†ng</span>
                  <span class="badge">G·ªçn</span>
                </div>
              </div>
            </a>

            <a class="card" href="./report.html" style="text-decoration:none; background: rgba(255,255,255,.04); border-color: rgba(255,255,255,.12);">
              <div class="card-body">
                <div class="row" style="justify-content:space-between;">
                  <span class="badge">üßæ</span>
                  <span class="material-symbols-outlined">chevron_right</span>
                </div>
                <h2 style="margin-top:10px;">G·ª≠i b√°o c√°o</h2>
                <p>N·∫øu b·∫°n nghi ng·ªù l·ª´a ƒë·∫£o, g·ª≠i b√°o c√°o ƒë·ªÉ admin duy·ªát.</p>
                <div class="row" style="gap:10px; margin-top:10px; flex-wrap:wrap;">
                  <span class="badge">H·ªó tr·ª£ c·ªông ƒë·ªìng</span>
                </div>
              </div>
            </a>
          </div>

          <div class="notice" style="margin-top:14px;">
            G·ª£i √Ω: n·∫øu b·∫°n g·∫∑p link/s·ªë l·∫°, h√£y ki·ªÉm tra tr∆∞·ªõc ‚Äî r·ªìi m·ªõi giao d·ªãch.
          </div>
        </div>
      </div>
    </div>
  </div>

  <script type="module">
    import { requireAuth, getUser } from "./js/api.js";

    // ph·∫£i ƒëƒÉng nh·∫≠p m·ªõi v√†o ƒë∆∞·ª£c
    if (!requireAuth("./login.html")) {}

    const user = getUser?.() || null;
    const adminBtn = document.getElementById("adminBtn");
    if (user && user.role === "admin") adminBtn.style.display = "inline-flex";

    // ƒëƒÉng xu·∫•t (an to√†n: x√≥a nhi·ªÅu key hay d√πng)
    document.getElementById("logoutBtn").addEventListener("click", ()=>{
      ["token","user","scamcheck_token","scamcheck_user"].forEach(k => localStorage.removeItem(k));
      window.location.href = "./login.html";
    });
  </script>
</body>
</html>
